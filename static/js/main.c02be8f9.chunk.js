(this["webpackJsonpfront-end-challenge-2021"]=this["webpackJsonpfront-end-challenge-2021"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),o=n.n(r),i=n(41),s=(n(98),n(12)),l=n(151),u=n(47),j=n(18),d=Object(a.createContext)(),b=n(154),m=n(137),f=n(153),O=Object(f.a)((function(){return{title:{marginRight:"auto",marginLeft:"1rem"}}})),h=Object(f.a)((function(){return{image:{borderRadius:"100%"}}})),x=n(2),g=function(e){var t=e.src,n=e.alt,a=e.width,c=e.ClassName,r=h();return Object(x.jsx)("img",{"aria-label":n,className:"".concat(r.image," ").concat(c),src:t,alt:n,width:a,height:a})};g.defaultProps={width:"50",ClassName:""};var p=g,v=n(82),C=Object(f.a)((function(){return{title:{display:"inline-block",fontFamily:'"Leckerli One", cursive'}}})),y=function(e){var t=e.text,n=e.className,a=C();return Object(x.jsx)(v.a,{className:"".concat(a.title," ").concat(n),variant:"h4",component:"h1",children:t})};y.defaultProps={className:""};var S=y,N=function(){var e=O();return Object(x.jsx)(b.a,{height:"3rem",paddingX:"2rem",paddingY:"1rem",component:"header",children:Object(x.jsxs)(m.a,{component:"section",container:!0,alignItems:"center",justifyContent:"center",children:[Object(x.jsx)(p,{src:"./logo.svg",alt:"Logo da Empresa"}),Object(x.jsx)(S,{className:e.title,text:"Pharma Inc"}),Object(x.jsx)(p,{src:"./perfil.webp",alt:"Foto de perfil do usu\xe1rio"})]})})},I=n(150),k=Object(f.a)((function(){return{background:{backgroundColor:"#eeeeee"}}})),w=n(13),F=n(138),P=n(139),E=n(156),D=n(140),L=n(155),R=n(152),T=n(142),B=Object(f.a)((function(){return{input:{borderColor:"#209cee",backgroundColor:"#ffffff",marginTop:"2rem",marginBottom:"2rem",width:"100%"},type:{width:"25rem",marginRight:"2rem"}}})),z=function(){var e=Object(a.useContext)(d).setFilterSearch,t=Object(a.useState)("name"),n=Object(w.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),i=Object(w.a)(o,2),s=i[0],l=i[1],u=Object(a.useRef)(null);Object(a.useEffect)((function(){u.current.focus()}),[]),Object(a.useEffect)((function(){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{text:s})}))}),[s]),Object(a.useEffect)((function(){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{type:c})}))}),[c]);var m=B();return Object(x.jsxs)(b.a,{component:"section",display:"flex",justifyContent:"center",alignItems:"center",children:[Object(x.jsxs)(F.a,{component:"fieldset",className:m.type,children:[Object(x.jsx)(P.a,{component:"h3",children:"Tipo de pesquisa"}),Object(x.jsxs)(E.a,{row:!0,"aria-label":"filtro por g\xeanero",name:"gender",value:c,onChange:function(e){r(e.target.value)},children:[Object(x.jsx)(D.a,{value:"name",control:Object(x.jsx)(L.a,{color:"primary"}),label:"Nome"}),Object(x.jsx)(D.a,{value:"nationality",control:Object(x.jsx)(L.a,{color:"primary"}),label:"Nacionalidade"})]})]}),Object(x.jsx)(R.a,{fullWidth:!0,inputRef:u,value:s,onChange:function(e){l(e.target.value)},className:m.input,size:"small",id:"text-search",label:"Pesquisar",type:"search",variant:"outlined",InputProps:{endAdornment:Object(x.jsx)(T.a,{position:"end",children:Object(x.jsx)("img",{src:"./search.svg",alt:"Icone de busca",width:"30",height:"30"})})}})]})},H=function(e){var t=e.children;return Object(x.jsx)(v.a,{align:"justify",variant:"body1",component:"h2",children:t})},M=n(143),q=n(78),U=n.n(q),Y=function(){return Object(x.jsx)(b.a,{component:"section",display:"flex",alignItems:"center",justifyContent:"center",children:Object(x.jsx)("img",{"aria-label":"Imagem de Loading",width:"50",height:"50",src:"./Reload-1s-50px.svg",alt:"Imagem de Loading"})})},A=function(e){var t=e.message;return Object(x.jsxs)(b.a,{component:"section",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingY:"1rem",children:[Object(x.jsx)("img",{src:"./sad.svg",alt:"Icone de triste",width:"40",height:"40"}),Object(x.jsx)(v.a,{variant:"h5",component:"h2",children:t})]})};A.defaultProps={message:"Servidor n\xe3o encontrado."};var W=A,G=function(){var e=Object(a.useContext)(d).setData,t=Object(a.useState)(1),n=Object(w.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!0),i=Object(w.a)(o,2),s=i[0],l=i[1],m=Object(a.useState)(!1),f=Object(w.a)(m,2),O=f[0],h=f[1];return Object(a.useEffect)((function(){var t=!1;return c>1&&fetch("https://randomuser.me/api/?page=".concat(c,"&results=50")).then((function(e){return e.ok||h(!0),e.json()})).then((function(n){var a=n.results.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{page:c,seed:n.info.seed})}));t||e((function(e){return[].concat(Object(u.a)(e),Object(u.a)(a))})),l(!0)})),function(){l(!1),t=!0}}),[c]),Object(x.jsxs)(b.a,{component:"section",display:"flex",justifyContent:"center",marginTop:"1rem",children:[O&&Object(x.jsx)(W,{}),!O&&!s&&Object(x.jsx)(Y,{}),!O&&s&&Object(x.jsx)(M.a,{onClick:function(){l(!1),r((function(e){return e+1}))},size:"small",variant:"outlined",color:"default",startIcon:Object(x.jsx)(U.a,{}),children:"Carregar mais pacientes"})]})},J=n(148),X=n(141),_=n(149),V=Object(f.a)((function(){return{container:{minHeight:"35vh",maxHeight:"35vh",borderRadius:"0",marginBottom:"0.5rem"},containerEmpty:{minHeight:"0",maxHeight:"0",borderRadius:"0",marginBottom:"0.5rem"}}})),K=n(146),Q=function(e,t){return t.text.length>0&&"all"===t.gender?e.filter((function(e){return-1!==("name"===t.type?"".concat(e.name.first," ").concat(e.name.last):"".concat(e.nat)).toLowerCase().indexOf(t.text.toLowerCase())})):t.text.length>0&&"all"!==t.gender?e.filter((function(e){return e.gender===t.gender})).filter((function(e){return-1!==("name"===t.type?"".concat(e.name.first," ").concat(e.name.last):"".concat(e.nat)).toLowerCase().indexOf(t.text.toLowerCase())})):"all"!==t.gender?e.filter((function(e){return e.gender===t.gender})):e},Z=n(144),$=n(145),ee=function(e){var t=e.slice(0,4),n=e.slice(5,7),a=e.slice(8,10);return"".concat(a,"/").concat(n,"/").concat(t)},te=function(e){return"male"===e?"Masculino":"Feminino"},ne=function(e,t){var n=t||"Sem sobrenome cadastrado";return"".concat(e||"Sem nome cadastrado"," ").concat(n)},ae=function(e){return e||"Sem nacionalidade cadastrada"},ce=function(e){return e?te(e):"Sem g\xeanero cadastrada"},re=function(e){return e?ee(e):"Sem data cadastrada"},oe=Object(f.a)((function(){return{link:{textDecoration:"none",backgroundColor:"#209cee",color:"#ffffff",fontFamily:"Roboto",padding:"0.25rem 0.5rem",borderRadius:"0.25rem","&:hover":{backgroundColor:"#146296"}}}})),ie=function(e){var t=Object(s.h)(),n=oe();return e.map((function(e){return Object(x.jsxs)(Z.a,{hover:!0,children:[Object(x.jsx)($.a,{align:"left",children:ne(e.name.first,e.name.last)}),Object(x.jsx)($.a,{align:"center",children:ae(e.nat)}),Object(x.jsx)($.a,{align:"center",children:ce(e.gender)}),Object(x.jsx)($.a,{align:"center",children:re(e.dob.date)}),Object(x.jsx)($.a,{align:"center",children:Object(x.jsx)(i.b,{className:n.link,to:{pathname:"/patient/".concat(e.seed,"-").concat(e.page,"-").concat(e.login.uuid),state:{background:t}},children:"Visualizar"})})]},e.login.uuid)}))},se=function(){var e=Object(a.useContext)(d),t=e.data,n=e.setDataFiltered,c=e.filterSearch,r=e.setNumberPatients,o=Q(t,c);return Object(a.useEffect)((function(){n(o),r(o.length)}),[c,t]),Object(x.jsx)(K.a,{children:ie(o)})},le=n(147),ue=Object(f.a)((function(){return{backgroundColorBlue:{backgroundColor:"#209cee"},textColor:{color:"#ffffff"},textUpperCase:{textTransform:"uppercase"},head:{zIndex:"2"}}})),je=function(){var e=ue();return Object(x.jsx)(le.a,{children:Object(x.jsx)(Z.a,{children:["Nome","Nacionalidade","G\xeanero","Nascimento","A\xe7\xf5es"].map((function(t){return Object(x.jsx)($.a,{className:"".concat(e.textColor," ").concat(e.textUpperCase," ").concat(e.backgroundColorBlue),align:"Nome"===t?"left":"center",children:t},t)}))})})},de=function(){var e=Object(a.useContext)(d).numberPatients;return Object(x.jsx)(b.a,{component:"section",display:"flex",justifyContent:"end",children:Object(x.jsxs)(v.a,{children:["N\xfamero de pacientes listados: ",e]})})},be=function(){var e=Object(a.useContext)(d),t=e.filterSearch,n=e.numberPatients,c=V();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(J.a,{component:X.a,className:n>0?c.container:c.containerEmpty,children:Object(x.jsxs)(_.a,{stickyHeader:!0,size:"small",children:[Object(x.jsx)(je,{}),Object(x.jsx)(se,{})]})}),n>0&&Object(x.jsx)(de,{}),t.text.length>0&&0===n&&Object(x.jsx)(W,{message:"Paciente n\xe3o encontrado."})]})},me=function(){var e=Object(a.useContext)(d).setFilterSearch,t=Object(a.useState)("all"),n=Object(w.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{gender:c})}))}),[c]);return Object(x.jsxs)(F.a,{component:"fieldset",children:[Object(x.jsx)(P.a,{component:"h3",children:"Pesquisar por g\xeanero"}),Object(x.jsxs)(E.a,{row:!0,"aria-label":"filtro por g\xeanero",name:"gender",value:c,onChange:function(e){r(e.target.value)},role:"radiogroup",children:[Object(x.jsx)(D.a,{"aria-label":"Todos",value:"all",control:Object(x.jsx)(L.a,{color:"primary"}),label:"Todos"}),Object(x.jsx)(D.a,{"aria-label":"Masculino",value:"male",control:Object(x.jsx)(L.a,{color:"primary"}),label:"Masculino"}),Object(x.jsx)(D.a,{"aria-label":"Feminino",value:"female",control:Object(x.jsx)(L.a,{color:"primary"}),label:"Feminino"})]})]})},fe=function(){return Object(x.jsx)(b.a,{component:"section",width:"100%",display:"flex",justifyItems:"flex-start",marginBottom:"1rem",children:Object(x.jsx)(me,{})})},Oe=function(){var e=Object(a.useContext)(d),t=e.data,n=e.error,c=k();return Object(x.jsx)(b.a,{className:c.background,component:"main",minHeight:"calc(100vh - 9rem)",paddingY:"2rem",paddingX:"1rem",children:Object(x.jsxs)(I.a,{component:"section",maxWidth:"md",children:[Object(x.jsx)(H,{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae deleniti minima esse repellendus eius ducimus similique! Alias, harum consectetur nesciunt commodi deleniti, totam corrupti vitae blanditiis molestias nobis, accusantium vero!"}),Object(x.jsx)(z,{}),Object(x.jsx)(fe,{}),n&&Object(x.jsx)(W,{}),!n&&t.length<=0&&Object(x.jsx)(Y,{}),!n&&t.length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(be,{}),Object(x.jsx)(G,{})]})]})})},he=function(){var e=Object(a.useContext)(d),t=e.setData,n=e.setError,c=e.urlInfo;return Object(a.useEffect)((function(){var e=!1;return fetch("".concat(""!==c.seed?"https://randomuser.me/api/?page=".concat(c.page,"&results=50&seed=").concat(c.seed):"https://randomuser.me/api/?page=0&results=50")).then((function(e){return e.ok||n(!0),e.json()})).then((function(n){var a=n.results.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{page:0,seed:n.info.seed})}));e||t((function(e){return[].concat(Object(u.a)(e),Object(u.a)(a))}))})).catch((function(e){console.log(e.message)})),function(){e=!0}}),[c]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N,{}),Object(x.jsx)(Oe,{})]})},xe=n(80),ge=n.n(xe),pe=Object(f.a)((function(){return{fullScreen:{position:"fixed",top:"0",left:"0",zIndex:"3",width:"100vw",height:"100vh",backgroundColor:"rgba(118, 146, 165, 0.8)"},article:{width:"90%",maxWidth:"40rem",backgroundColor:"#ffffff",borderRadius:"0.5rem",position:"relative",paddingTop:"5rem",padding:"2rem"},perfilImage:{position:"absolute",top:0,transform:"translateY(-50%)"},btnClose:{position:"absolute",top:0,right:0,height:"3rem"}}})),ve=function(e,t){return e.ok||t(!0),e.json()},Ce=function(){var e=Object(a.useContext)(d).setUrlInfo,t=Object(a.useState)({}),n=Object(w.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(w.a)(o,2),l=i[0],u=i[1],j=Object(a.useState)(),m=Object(w.a)(j,2),f=m[0],O=m[1],h=Object(s.g)(),g=Object(s.i)(),C=g.seed,y=g.page,S=g.uuid;Object(a.useEffect)((function(){e({seed:C,page:y,uuid:S})}),[]),Object(a.useEffect)((function(){fetch("https://randomuser.me/api/?page=".concat(y,"&results=50&seed=").concat(C)).then((function(e){return ve(e,O)})).then((function(e){var t=e.results;r(t.find((function(e){return e.login.uuid===S}))),u(!0)})).catch((function(){O(!0)}))}),[]);var N,k,F,P,E,D,L=pe(),R=function(){h.push("/")};return Object(x.jsx)(b.a,{className:L.fullScreen,component:"section",display:"flex",justifyContent:"center",alignItems:"center",onClick:R,children:Object(x.jsxs)(I.a,{className:L.article,component:"article",onClick:function(e){return e.stopPropagation()},children:[Object(x.jsx)(M.a,{onClick:R,className:L.btnClose,type:"button",children:Object(x.jsx)(ge.a,{})}),f&&Object(x.jsx)(W,{}),!f&&!l&&Object(x.jsx)(Y,{}),!f&&l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(b.a,{component:"header",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingBottom:"2rem",children:[Object(x.jsx)(p,{ClassName:L.perfilImage,src:(D=c.picture.large,D||"./No_image_available.svg"),alt:"Imagem de perfil do cliente.",width:150}),Object(x.jsx)(v.a,{variant:"h5",component:"h2",align:"center",children:ne(c.name.first,c.name.last)}),Object(x.jsx)(v.a,{variant:"h6",component:"h3",children:(E=c.email,E||"Sem email cadastrado")})]}),Object(x.jsxs)(v.a,{children:["G\xeanero: ",ce(c.gender)]}),Object(x.jsxs)(v.a,{children:["Data de nascimento: ",re(c.dob.date)]}),Object(x.jsxs)(v.a,{children:["Telefone: ",(P=c.phone,P||"Sem telefone cadastrado")]}),Object(x.jsxs)(v.a,{children:["Nacionalidade: ",ae(c.nat)]}),Object(x.jsxs)(v.a,{children:["Endere\xe7o:"," ",(N=c.location.city,k=c.location.state,F=c.location.country,"".concat(N,", ").concat(k,"/").concat(F)||"Sem endere\xe7o cadastrado")]}),Object(x.jsxs)(v.a,{children:["ID: ",S]}),Object(x.jsx)(b.a,{component:"footer",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"2rem",children:Object(x.jsx)(v.a,{children:"http://localhost:3000/patient/".concat(C,"-").concat(y,"-").concat(S)})})]})]})})},ye=n(81),Se=Object(ye.a)({palette:{primary:{main:"#209cee"}}}),Ne=function(){return Object(x.jsxs)(l.a,{theme:Se,children:[Object(x.jsxs)(s.d,{children:[Object(x.jsx)(s.b,{exact:!0,path:"/patient/:seed-:page-:uuid",component:Ce}),Object(x.jsx)(s.b,{path:"*",children:Object(x.jsx)(s.a,{to:"/"})})]}),Object(x.jsx)(s.b,{path:"/",component:he})]})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},ke=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(w.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)([]),s=Object(w.a)(i,2),l=s[0],u=s[1],j=Object(a.useState)(!1),b=Object(w.a)(j,2),m=b[0],f=b[1],O=Object(a.useState)({text:"",gender:"",type:""}),h=Object(w.a)(O,2),g=h[0],p=h[1],v=Object(a.useState)(0),C=Object(w.a)(v,2),y=C[0],S=C[1],N=Object(a.useState)({seed:"",page:"",uuid:""}),I=Object(w.a)(N,2),k=I[0],F=I[1];return Object(x.jsx)(d.Provider,{value:{data:r,setData:o,error:m,setError:f,dataFiltered:l,setDataFiltered:u,numberPatients:y,setNumberPatients:S,filterSearch:g,setFilterSearch:p,urlInfo:k,setUrlInfo:F},children:t})};o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(ke,{children:Object(x.jsx)(i.a,{children:Object(x.jsx)(Ne,{})})})}),document.getElementById("root")),Ie()},98:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.c02be8f9.chunk.js.map